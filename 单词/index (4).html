<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英文词汇刷题</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f4f4f9;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            max-width: 600px;
            width: 90%;
            text-align: center;
        }
        h1 {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
        }
        #question {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        #info {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 20px;
        }
        .option {
            background: #ecf0f1;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 16px;
        }
        .option:hover {
            background: #dfe6e9;
        }
        .correct {
            background: #55efc4 !important;
            color: #2c3e50;
        }
        .incorrect {
            background: #ff7675 !important;
            color: white;
        }
        #feedback {
            margin: 20px 0;
            font-size: 16px;
            font-weight: bold;
        }
        button {
            padding: 12px 24px;
            margin: 5px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }
        #nextBtn {
            background: #3498db;
            color: white;
        }
        #nextBtn:hover {
            background: #2980b9;
        }
        #resetBtn, #reviewWrongBtn, #modeToggleBtn {
            background: #95a5a6;
            color: white;
        }
        #resetBtn:hover, #reviewWrongBtn:hover, #modeToggleBtn:hover {
            background: #7f8c8d;
        }
        #wrongAnswers {
            display: none;
            margin-top: 20px;
            text-align: left;
        }
        #wrongAnswersList {
            max-height: 200px;
            overflow-y: auto;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>英文词汇刷题</h1>
        <div id="info"></div>
        <div id="question"></div>
        <div id="options"></div>
        <div id="feedback"></div>
        <button id="nextBtn">下一题</button>
        <button id="resetBtn">重置</button>
        <button id="reviewWrongBtn">查看错题本</button>
        <button id="modeToggleBtn">切换为顺序模式</button>
        <div id="wrongAnswers">
            <h2>错题本</h2>
            <div id="wrongAnswersList"></div>
        </div>
    </div>

    <script type="text/javascript">
        // XLSX parsing functions (unchanged)
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
            return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
            if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
                try {
                    var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                    var firstSheetName = workbook.SheetNames[0];
                    var worksheet = workbook.Sheets[firstSheetName];
                    var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                    var filteredData = jsonData.filter(row => row.some(filledCell));
                    var headerRowIndex = filteredData.findIndex((row, index) =>
                        row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                    );
                    if (headerRowIndex === -1 || headerRowIndex > 25) {
                        headerRowIndex = 0;
                    }
                    var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex));
                    csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                    return csv;
                } catch (e) {
                    console.error(e);
                    return "";
                }
            }
            return gk_fileData[filename] || "";
        }

        // Quiz logic
         const questions = [
            // Unit 1
            { unit: 1, english: "financial literacy", correct: "财务素养" },
            { unit: 1, english: "computer literacy", correct: "计算机素养" },
            { unit: 1, english: "AI literacy", correct: "人工智能素养" },
            { unit: 1, english: "endeavor", correct: "努力，尝试" },
            { unit: 1, english: "by any means", correct: "通过任何方式" },
            { unit: 1, english: "by means of", correct: "借助于" },
            { unit: 1, english: "by no means", correct: "绝不" },
            { unit: 1, english: "exceedingly", correct: "极其，非常" },
            { unit: 1, english: "exceed", correct: "超过" },
            { unit: 1, english: "proceed", correct: "前进，进行" },
            { unit: 1, english: "precede", correct: "在……之前" },
            { unit: 1, english: "recede", correct: "后退，消退" },
            { unit: 1, english: "excessive", correct: "过多的，过度的" },
            { unit: 1, english: "somber", correct: "阴郁的，严肃的" },
            { unit: 1, english: "sober", correct: "清醒的，冷静的" },
            { unit: 1, english: "spot sb doing", correct: "发现某人正在做……" },
            { unit: 1, english: "precarious", correct: "不稳定的，危险的" },
            { unit: 1, english: "tremendous", correct: "巨大的，惊人的" },
            { unit: 1, english: "in due time", correct: "在适当的时候" },
            { unit: 1, english: "due", correct: "到期的，应得的" },
            { unit: 1, english: "expenditure", correct: "开支，支出" },
            { unit: 1, english: "expenses", correct: "费用" },
            { unit: 1, english: "expend", correct: "花费，消耗" },
            { unit: 1, english: "reckon", correct: "认为，估计" },
            { unit: 1, english: "ascertain", correct: "确定，查明" },
            { unit: 1, english: "assertive", correct: "自信的，果断的" },
            { unit: 1, english: "assert", correct: "断言，坚持" },
            { unit: 1, english: "certify", correct: "证明，认证" },
            { unit: 1, english: "certificate", correct: "证书" },
            { unit: 1, english: "breed", correct: "品种，繁殖" },
            { unit: 1, english: "lifespan", correct: "寿命" },
            { unit: 1, english: "life expectancy", correct: "预期寿命" },
            { unit: 1, english: "accessory", correct: "配件，饰品" },
            { unit: 1, english: "jewelry", correct: "珠宝" },
            { unit: 1, english: "plough/plow", correct: "犁，耕作" },
            { unit: 1, english: "sizeable", correct: "相当大的" },
            { unit: 1, english: "persevere", correct: "坚持不懈" },
            { unit: 1, english: "perseverance", correct: "毅力" },
            { unit: 1, english: "injection", correct: "注射，投入" },
            { unit: 1, english: "rejection", correct: "拒绝" },
            { unit: 1, english: "projection", correct: "预测，投影" },
            { unit: 1, english: "projector", correct: "投影仪" },
            { unit: 1, english: "eject", correct: "弹出，逐出" },
            { unit: 1, english: "subject", correct: "主题，科目，受试者" },
            { unit: 1, english: "object", correct: "物体，目标" },
            { unit: 1, english: "interject", correct: "插话" },
            { unit: 1, english: "enlighten…on…", correct: "启发，告知" },
            { unit: 1, english: "brochure", correct: "小册子" },
            { unit: 1, english: "insurance scheme/plan", correct: "保险计划" },
            { unit: 1, english: "premiums", correct: "保险费" },
            { unit: 1, english: "endear", correct: "使……受喜爱" },
            { unit: 1, english: "endanger", correct: "危及" },
            { unit: 1, english: "enrage", correct: "激怒" },
            { unit: 1, english: "track", correct: "追踪，记录" },
            { unit: 1, english: "keep track/record of", correct: "跟踪记录" },
            { unit: 1, english: "faculty", correct: "能力，学院，全体教员" },
            { unit: 1, english: "alternatively", correct: "作为替代" },
            { unit: 1, english: "alter", correct: "改变" },
            { unit: 1, english: "alternate", correct: "交替的，轮流的" },
            { unit: 1, english: "take advantage of", correct: "利用" },
            { unit: 1, english: "hospitality", correct: "好客，款待" },
            { unit: 1, english: "hospitable", correct: "热情好客的" },
            { unit: 1, english: "host", correct: "主人，主办" },
            { unit: 1, english: "hospital", correct: "医院" },
            { unit: 1, english: "produce (n.)", correct: "农产品" },
            { unit: 1, english: "adequate", correct: "足够的，适当的" },
            { unit: 1, english: "sufficient", correct: "充分的" },
            { unit: 1, english: "abundant", correct: "丰富的" },
            { unit: 1, english: "plenty", correct: "大量" },
            { unit: 1, english: "nutrient", correct: "营养物" },
            { unit: 1, english: "nutritious", correct: "有营养的" },
            { unit: 1, english: "nutrition", correct: "营养" },
            { unit: 1, english: "nutritional", correct: "营养的" },
            { unit: 1, english: "nourish", correct: "滋养，养育" },
            { unit: 1, english: "nursery", correct: "托儿所，苗圃" },
            { unit: 1, english: "nurture", correct: "培养，滋养" },
            { unit: 1, english: "immerse in", correct: "沉浸于" },
            { unit: 1, english: "emerge", correct: "出现，浮现" },
            { unit: 1, english: "emergency", correct: "紧急情况" },
            { unit: 1, english: "submerge", correct: "淹没，潜入" },
            { unit: 1, english: "substantial", correct: "实质的，巨大的" },
            { unit: 1, english: "substance", correct: "物质，本质" },
            { unit: 1, english: "affordable", correct: "负担得起的" },
            { unit: 1, english: "inexpensive", correct: "便宜的" },
            { unit: 1, english: "economical", correct: "经济的，节约的" },
            { unit: 1, english: "work out the costs", correct: "计算费用" },
            { unit: 1, english: "cover the costs", correct: "支付费用" },
            { unit: 1, english: "make/set a budget", correct: "制定预算" },
            { unit: 1, english: "make two ends meet", correct: "收支平衡" },
            // Unit 2
            { unit: 2, english: "embark on", correct: "开始，着手" },
            { unit: 2, english: "bewildering", correct: "令人困惑的" },
            { unit: 2, english: "confusing", correct: "令人迷惑的" },
            { unit: 2, english: "harsh", correct: "严厉的，恶劣的" },
            { unit: 2, english: "bizarre", correct: "怪异的" },
            { unit: 2, english: "odd", correct: "奇怪的" },
            { unit: 2, english: "weird", correct: "怪异的" },
            { unit: 2, english: "strange", correct: "陌生的，奇怪的" },
            { unit: 2, english: "vistas", correct: "远景，展望" },
            { unit: 2, english: "marvel at", correct: "对……感到惊奇" },
            { unit: 2, english: "marvellous", correct: "了不起的" },
            { unit: 2, english: "wonder at", correct: "对……感到惊奇" },
            { unit: 2, english: "wonderful", correct: "精彩的，极好的" },
            { unit: 2, english: "miracle", correct: "奇迹" },
            { unit: 2, english: "miraculous", correct: "奇迹般的" },
            { unit: 2, english: "range from … to …", correct: "从……到……不等" },
            { unit: 2, english: "reflect on", correct: "反思" },
            { unit: 2, english: "reflective", correct: "反思的，反光的" },
            { unit: 2, english: "reflection", correct: "反射，反映，思考" },
            { unit: 2, english: "ample", correct: "充足的" },
            { unit: 2, english: "immediate surroundings", correct: "周围环境" },
            { unit: 2, english: "immediate boss", correct: "直属上司" },
            { unit: 2, english: "immediate relatives", correct: "直系亲属" },
            { unit: 2, english: "ethnic groups", correct: "民族群体" },
            { unit: 2, english: "minority nationalities", correct: "少数民族" },
            { unit: 2, english: "lined with", correct: "排列着，内衬" },
            { unit: 2, english: "confront", correct: "面对，对抗" },
            { unit: 2, english: "confrontation", correct: "对抗，冲突" },
            { unit: 2, english: "front", correct: "前方，前面" },
            { unit: 2, english: "supremely", correct: "极其，极度" },
            { unit: 2, english: "super", correct: "超级的" },
            { unit: 2, english: "supreme court", correct: "最高法院" },
            { unit: 2, english: "white supremacy", correct: "白人至上" },
            { unit: 2, english: "hint at", correct: "暗示" },
            { unit: 2, english: "imply", correct: "暗示，意味" },
            { unit: 2, english: "tips", correct: "小费，提示" },
            { unit: 2, english: "cue", correct: "提示，线索" },
            { unit: 2, english: "cite", correct: "引用，引述" },
            { unit: 2, english: "quote", correct: "引用，报价" },
            { unit: 2, english: "quotation marks", correct: "引号" },
            { unit: 2, english: "quote sb. as saying", correct: "引用某人所说" },
            { unit: 2, english: "foster", correct: "培养，促进" },
            { unit: 2, english: "develop", correct: "发展，培养" },
            { unit: 2, english: "cultivate", correct: "培养，耕作" },
            { unit: 2, english: "nurture", correct: "培养，滋养" },
            { unit: 2, english: "by nature or nurture", correct: "先天或后天" },
            { unit: 2, english: "induce", correct: "诱导，引起" },
            { unit: 2, english: "deduce", correct: "推断" },
            { unit: 2, english: "produce", correct: "生产，制造" },
            { unit: 2, english: "introduce", correct: "介绍，引入" },
            { unit: 2, english: "conduce (to)", correct: "有助于" },
            { unit: 2, english: "reduce", correct: "减少" },
            { unit: 2, english: "reproduce", correct: "复制，繁殖" },
            { unit: 2, english: "seduce", correct: "诱惑" },
            { unit: 2, english: "sensation", correct: "感觉，轰动" },
            { unit: 2, english: "sensational", correct: "耸人听闻的，极好的" },
            { unit: 2, english: "insistent", correct: "坚持的" },
            { unit: 2, english: "insist", correct: "坚持" },
            { unit: 2, english: "resist", correct: "抵抗" },
            { unit: 2, english: "resistant", correct: "抵抗的" },
            { unit: 2, english: "consist", correct: "由……组成" },
            { unit: 2, english: "consistent", correct: "一致的" },
            { unit: 2, english: "withstand", correct: "承受，抵抗" },
            { unit: 2, english: "be immersed in", correct: "沉浸于" },
            { unit: 2, english: "interact", correct: "互动" },
            { unit: 2, english: "interaction", correct: "互动" },
            { unit: 2, english: "interactive", correct: "互动的" },
            { unit: 2, english: "transact", correct: "交易" },
            { unit: 2, english: "transactions", correct: "交易" },
            { unit: 2, english: "inspirational", correct: "激励人心的" },
            { unit: 2, english: "inspiring", correct: "鼓舞人心的" },
            { unit: 2, english: "crowning achievement", correct: "最高成就" },
            { unit: 2, english: "literary giant", correct: "文学巨匠" },
            { unit: 2, english: "gigantic", correct: "巨大的" },
            { unit: 2, english: "enormous", correct: "巨大的" },
            { unit: 2, english: "titanic", correct: "巨大的" },
            { unit: 2, english: "massive", correct: "巨大的" },
            { unit: 2, english: "find him easy prey", correct: "发现他是容易捕获的猎物" },
            { unit: 2, english: "fall prey/victim to", correct: "成为……的牺牲品" },
            { unit: 2, english: "pray", correct: "祈祷" },
            { unit: 2, english: "skeleton", correct: "骨架，骨骼" },
            { unit: 2, english: "framework", correct: "框架，结构" },
            { unit: 2, english: "outline", correct: "轮廓，大纲" },
            { unit: 2, english: "structure", correct: "结构" },
            { unit: 2, english: "economy of words", correct: "简洁的语言" },
            { unit: 2, english: "radical", correct: "激进的，根本的" },
            { unit: 2, english: "sympathize with", correct: "同情" },
            { unit: 2, english: "sympathy", correct: "同情" },
            { unit: 2, english: "apathy", correct: "冷漠" },
            { unit: 2, english: "empathy", correct: "共情" },
            { unit: 2, english: "pathetic", correct: "可怜的" },
            { unit: 2, english: "ache for his loss", correct: "为他的损失感到痛苦" },
            { unit: 2, english: "acknowledge", correct: "承认，确认" },
            { unit: 2, english: "magnificence", correct: "壮丽" },
            { unit: 2, english: "magnificent", correct: "壮观的" },
            { unit: 2, english: "magnify", correct: "放大" },
            { unit: 2, english: "magnifying glasses", correct: "放大镜" },
            { unit: 2, english: "magnitude", correct: "量级，重要性" },
            // Unit 3
            { unit: 3, english: "smell", correct: "气味，闻" },
            { unit: 3, english: "scent", correct: "气味，香味" },
            { unit: 3, english: "deodorant", correct: "除臭剂" },
            { unit: 3, english: "perfume", correct: "香水" },
            { unit: 3, english: "fragrance", correct: "芳香" },
            { unit: 3, english: "deadly", correct: "致命的" },
            { unit: 3, english: "fatal", correct: "致命的" },
            { unit: 3, english: "mortal", correct: "致命的，凡人的" },
            { unit: 3, english: "immortal", correct: "不朽的" },
            { unit: 3, english: "mortality", correct: "死亡率，凡性" },
            { unit: 3, english: "wet", correct: "湿的" },
            { unit: 3, english: "damp", correct: "潮湿的" },
            { unit: 3, english: "humidity", correct: "湿度" },
            { unit: 3, english: "unavoidable", correct: "不可避免的" },
            { unit: 3, english: "bow to the inevitable", correct: "接受不可避免的事情" },
            { unit: 3, english: "only", correct: "仅有的" },
            { unit: 3, english: "exclusively", correct: "独特地，专门地" },
            { unit: 3, english: "solely", correct: "唯一地" },
            { unit: 3, english: "merely", correct: "仅仅" },
            { unit: 3, english: "charming", correct: "迷人的" },
            { unit: 3, english: "charm", correct: "魅力" },
            { unit: 3, english: "glamorous", correct: "迷人的，有魅力的" },
            { unit: 3, english: "glamour", correct: "魅力" },
            { unit: 3, english: "same", correct: "相同的" },
            { unit: 3, english: "models of uniform build", correct: "统一构造的模型" },
            { unit: 3, english: "luxurious", correct: "豪华的" },
            { unit: 3, english: "extravagant", correct: "奢侈的" },
            { unit: 3, english: "so, as a result", correct: "因此" },
            { unit: 3, english: "accordingly", correct: "相应地" },
            { unit: 3, english: "unsuitable", correct: "不适合的" },
            { unit: 3, english: "improper", correct: "不适当的" },
            { unit: 3, english: "inappropriate", correct: "不合适的" },
            { unit: 3, english: "serious", correct: "严肃的" },
            { unit: 3, english: "somber", correct: "阴郁的" },
            { unit: 3, english: "hide", correct: "隐藏" },
            { unit: 3, english: "cover", correct: "覆盖" },
            { unit: 3, english: "disguise", correct: "伪装" },
            { unit: 3, english: "show", correct: "显示" },
            { unit: 3, english: "suggest", correct: "建议" },
            { unit: 3, english: "indicate", correct: "表明" },
            { unit: 3, english: "reveal", correct: "揭示" },
            { unit: 3, english: "reflect", correct: "反映" },
            { unit: 3, english: "be indicative of", correct: "表明" },
            { unit: 3, english: "be reflective of", correct: "反映" },
            { unit: 3, english: "homesickness", correct: "思乡病" },
            { unit: 3, english: "nostalgia", correct: "怀旧" },
            { unit: 3, english: "clothes", correct: "衣服" },
            { unit: 3, english: "outfits", correct: "服装" },
            { unit: 3, english: "garment", correct: "服装" },
            { unit: 3, english: "material", correct: "材料" },
            { unit: 3, english: "fabric", correct: "织物" },
            { unit: 3, english: "youth", correct: "青年" },
            { unit: 3, english: "infant", correct: "婴儿" },
            { unit: 3, english: "kid", correct: "小孩" },
            { unit: 3, english: "teenager", correct: "青少年" },
            { unit: 3, english: "adolescent", correct: "青少年" },
            { unit: 3, english: "adult", correct: "成人" },
            { unit: 3, english: "elderly", correct: "老年人" },
            { unit: 3, english: "besides", correct: "除此之外" },
            { unit: 3, english: "in addition to", correct: "此外" },
            { unit: 3, english: "apart/aside from", correct: "除了……之外" },
            { unit: 3, english: "indispensable", correct: "不可或缺的" },
            { unit: 3, english: "dispensable", correct: "可有可无的" },
            { unit: 3, english: "dispense", correct: "分发，免除" },
            { unit: 3, english: "the last thing", correct: "最后的事情" },
            { unit: 3, english: "how come", correct: "为什么" },
            { unit: 3, english: "commonplace", correct: "常见的，平凡的" },
            { unit: 3, english: "take a fancy to", correct: "喜欢上" },
            { unit: 3, english: "mandatory", correct: "强制性的" },
            { unit: 3, english: "mandate", correct: "授权，命令" },
            { unit: 3, english: "compulsory", correct: "义务的，强制的" },
            { unit: 3, english: "rage", correct: "愤怒，狂热" },
            { unit: 3, english: "anger", correct: "愤怒" },
            { unit: 3, english: "outrage", correct: "愤怒，暴行" },
            { unit: 3, english: "outrageous", correct: "离谱的" },
            { unit: 3, english: "outraged", correct: "愤怒的" },
            { unit: 3, english: "become all the rage", correct: "风靡一时" },
            { unit: 3, english: "sport", correct: "骄傲地穿戴" },
            { unit: 3, english: "modification", correct: "修改" },
            { unit: 3, english: "modify", correct: "修改" },
            { unit: 3, english: "alter", correct: "改变" },
            { unit: 3, english: "alteration", correct: "更改" },
            { unit: 3, english: "alternative", correct: "替代的" },
            { unit: 3, english: "alternate", correct: "交替的" },
            { unit: 3, english: "predecessor", correct: "前任，前辈" },
            { unit: 3, english: "complementary", correct: "互补的" },
            { unit: 3, english: "complimentary", correct: "免费的，赞美的" },
            { unit: 3, english: "complete", correct: "完成" },
            { unit: 3, english: "complement", correct: "补充" },
            { unit: 3, english: "compliment", correct: "赞美" },
            { unit: 3, english: "staple", correct: "主要产品，订书钉" },
            { unit: 3, english: "patent", correct: "专利" },
            { unit: 3, english: "segment", correct: "部分，分段" },
            { unit: 3, english: "market segmentation", correct: "市场细分" },
            { unit: 3, english: "applaud", correct: "鼓掌，赞赏" },
            { unit: 3, english: "applause", correct: "掌声" },
            { unit: 3, english: "follow suit", correct: "效仿" },
            { unit: 3, english: "in chronological order", correct: "按时间顺序" },
            // Unit 4
            { unit: 4, english: "intense", correct: "强烈的" },
            { unit: 4, english: "controversy", correct: "争议" },
            { unit: 4, english: "tense", correct: "紧张的" },
            { unit: 4, english: "intensify", correct: "增强" },
            { unit: 4, english: "intensive reading", correct: "精读" },
            { unit: 4, english: "transform", correct: "转变" },
            { unit: 4, english: "transformation", correct: "转变" },
            { unit: 4, english: "transformer", correct: "变压器" },
            { unit: 4, english: "thrive", correct: "兴旺，繁荣" },
            { unit: 4, english: "residents", correct: "居民" },
            { unit: 4, english: "reside", correct: "居住" },
            { unit: 4, english: "president", correct: "总统" },
            { unit: 4, english: "preside", correct: "主持" },
            { unit: 4, english: "transition", correct: "过渡" },
            { unit: 4, english: "vulnerable", correct: "脆弱的" },
            { unit: 4, english: "vulnerability", correct: "脆弱性" },
            { unit: 4, english: "come to one’s rescue", correct: "救助某人" },
            { unit: 4, english: "prospect", correct: "前景，展望" },
            { unit: 4, english: "prospective", correct: "预期的" },
            { unit: 4, english: "expect", correct: "期待" },
            { unit: 4, english: "retrospect", correct: "回顾" },
            { unit: 4, english: "suspect", correct: "怀疑" },
            { unit: 4, english: "circumspect", correct: "谨慎的" },
            { unit: 4, english: "spectacular", correct: "壮观的" },
            { unit: 4, english: "spectator", correct: "观众" },
            { unit: 4, english: "inspect", correct: "检查" },
            { unit: 4, english: "minimize", correct: "最小化" },
            { unit: 4, english: "maximize", correct: "最大化" },
            { unit: 4, english: "minimum", correct: "最小值" },
            { unit: 4, english: "maximum", correct: "最大值" },
            { unit: 4, english: "momentum", correct: "动力，势头" },
            { unit: 4, english: "excel in", correct: "擅长" },
            { unit: 4, english: "excellent", correct: "优秀的" },
            { unit: 4, english: "recruit", correct: "招募" },
            { unit: 4, english: "hire", correct: "雇用" },
            { unit: 4, english: "employ", correct: "雇用" },
            { unit: 4, english: "new recruit", correct: "新兵，新员工" },
            { unit: 4, english: "eventually", correct: "最终" },
            { unit: 4, english: "gross domestic product (GDP)", correct: "国内生产总值" },
            { unit: 4, english: "exceed expectations", correct: "超出预期" },
            { unit: 4, english: "implement", correct: "执行" },
            { unit: 4, english: "implementation", correct: "实施" },
            { unit: 4, english: "intellectual property rights/law", correct: "知识产权/法律" },
            { unit: 4, english: "propel", correct: "推动" },
            { unit: 4, english: "expel", correct: "驱逐" },
            { unit: 4, english: "compel", correct: "迫使" },
            { unit: 4, english: "repel", correct: "击退，排斥" },
            { unit: 4, english: "dispel", correct: "驱散" },
            { unit: 4, english: "counterpart", correct: "对应物" },
            { unit: 4, english: "assess", correct: "评估" },
            { unit: 4, english: "access", correct: "访问，进入" },
            { unit: 4, english: "forge", correct: "伪造，锻造" },
            { unit: 4, english: "dominant", correct: "占主导地位的" },
            { unit: 4, english: "dominate", correct: "支配" },
            { unit: 4, english: "domination", correct: "统治" },
            { unit: 4, english: "dominance", correct: "优势" },
            { unit: 4, english: "pilot programs", correct: "试点项目" },
            { unit: 4, english: "automate", correct: "自动化" },
            { unit: 4, english: "automation", correct: "自动化" },
            { unit: 4, english: "automatic", correct: "自动的" },
            { unit: 4, english: "cushion", correct: "缓冲" },
            { unit: 4, english: "mitigate", correct: "减轻" },
            { unit: 4, english: "alleviate", correct: "缓解" },
            { unit: 4, english: "concurrently", correct: "同时" },
            { unit: 4, english: "occur", correct: "发生" },
            { unit: 4, english: "recur", correct: "再次发生" },
            { unit: 4, english: "concur", correct: "同意" },
            { unit: 4, english: "concurrent", correct: "同时发生的" },
            { unit: 4, english: "recurrent", correct: "反复的" },
            { unit: 4, english: "incur", correct: "招致" },
            { unit: 4, english: "tap into", correct: "利用" },
            { unit: 4, english: "draw on", correct: "利用" },
            { unit: 4, english: "pose challenges", correct: "带来挑战" },
            { unit: 4, english: "grant citizenship", correct: "授予公民身份" },
            { unit: 4, english: "take…for granted", correct: "认为……理所当然" },
            { unit: 4, english: "resemble", correct: "类似" },
            { unit: 4, english: "be entitled to", correct: "有权获得" },
            { unit: 4, english: "disclose", correct: "透露" },
            { unit: 4, english: "intimate details", correct: "私密细节" },
            { unit: 4, english: "catastrophe", correct: "灾难" },
            { unit: 4, english: "catastrophic", correct: "灾难性的" },
            { unit: 4, english: "lack the mental faculties", correct: "缺乏心智能力" },
            { unit: 4, english: "perceive", correct: "感知" },
            { unit: 4, english: "perception", correct: "感知，认识" },
            { unit: 4, english: "confidential documents", correct: "机密文件" },
            { unit: 4, english: "confidence", correct: "信心" },
            { unit: 4, english: "confide", correct: "吐露" },
            { unit: 4, english: "be infected with viruses", correct: "感染病毒" },
            { unit: 4, english: "infection", correct: "感染" },
            { unit: 4, english: "infectious", correct: "传染的" },
            { unit: 4, english: "further aggravate", correct: "进一步恶化" },
            { unit: 4, english: "gravity", correct: "重力，严重性" },
            { unit: 4, english: "grave", correct: "严重的，坟墓" },
            { unit: 4, english: "dismantle", correct: "拆除" },
            { unit: 4, english: "prioritize", correct: "优先考虑" },
            { unit: 4, english: "priority", correct: "优先级" },
            { unit: 4, english: "identify and address", correct: "识别和解决" },
            { unit: 4, english: "ensure compliance", correct: "确保合规" },
            { unit: 4, english: "comply with", correct: "遵守" },
            // Unit 5
            { unit: 5, english: "trace/track", correct: "追踪" },
            { unit: 5, english: "brand-new", correct: "崭新的" },
            { unit: 5, english: "mount", correct: "增加，上升" },
            { unit: 5, english: "abuse", correct: "滥用，虐待" },
            { unit: 5, english: "adopt", correct: "采用，收养" },
            { unit: 5, english: "fiancee", correct: "未婚妻" },
            { unit: 5, english: "employee", correct: "员工" },
            { unit: 5, english: "nominee", correct: "被提名人" },
            { unit: 5, english: "standard waiting-room procedure", correct: "标准候诊程序" },
            { unit: 5, english: "test positive/negative", correct: "检测阳性/阴性" },
            { unit: 5, english: "positive case", correct: "阳性病例" },
            { unit: 5, english: "virus", correct: "病毒" },
            { unit: 5, english: "vaccine", correct: "疫苗" },
            { unit: 5, english: "vaccinate", correct: "接种疫苗" },
            { unit: 5, english: "vaccination", correct: "疫苗接种" },
            { unit: 5, english: "early phase of trials", correct: "试验早期阶段" },
            { unit: 5, english: "test subject", correct: "试验对象" },
            { unit: 5, english: "be subject to", correct: "受……约束" },
            { unit: 5, english: "subject sth to", correct: "使……接受" },
            { unit: 5, english: "shot", correct: "注射，射击" },
            { unit: 5, english: "injection", correct: "注射" },
            { unit: 5, english: "antibody", correct: "抗体" },
            { unit: 5, english: "veins", correct: "静脉" },
            { unit: 5, english: "pandemic", correct: "大流行病" },
            { unit: 5, english: "syringe", correct: "注射器" },
            { unit: 5, english: "exam room", correct: "检查室" },
            { unit: 5, english: "vaccine candidate", correct: "候选疫苗" },
            { unit: 5, english: "ambulance sirens", correct: "救护车警笛" },
            { unit: 5, english: "ERs (emergency rooms)", correct: "急诊室" },
            { unit: 5, english: "microscopic", correct: "微观的" },
            { unit: 5, english: "microscope", correct: "显微镜" },
            { unit: 5, english: "immune system", correct: "免疫系统" },
            { unit: 5, english: "immunity", correct: "免疫力" },
            { unit: 5, english: "proximity", correct: "接近，邻近" },
            { unit: 5, english: "approximate", correct: "近似的" },
            { unit: 5, english: "approximately", correct: "大约" },
            { unit: 5, english: "intensify", correct: "增强" },
            { unit: 5, english: "intense", correct: "强烈的" },
            { unit: 5, english: "area of deprivation", correct: "贫困地区" },
            { unit: 5, english: "deprive", correct: "剥夺" },
            { unit: 5, english: "be deprived of", correct: "被剥夺" },
            { unit: 5, english: "raise funds", correct: "筹集资金" },
            { unit: 5, english: "sanitizer", correct: "消毒剂" },
            { unit: 5, english: "sanitation", correct: "卫生" },
            { unit: 5, english: "unsanitary", correct: "不卫生的" },
            { unit: 5, english: "sanitary", correct: "卫生的" },
            // Unit 6
            { unit: 6, english: "maritime", correct: "海事的，海上的" },
            { unit: 6, english: "marine", correct: "海洋的" },
            { unit: 6, english: "submarine", correct: "潜艇" },
            { unit: 6, english: "marine corps", correct: "海军陆战队" },
            { unit: 6, english: "numerous", correct: "众多的" },
            { unit: 6, english: "excavate", correct: "挖掘" },
            { unit: 6, english: "archaeology", correct: "考古学" },
            { unit: 6, english: "archaeologist", correct: "考古学家" },
            { unit: 6, english: "anthropology", correct: "人类学" },
            { unit: 6, english: "philanthropist", correct: "慈善家" },
            { unit: 6, english: "philosophy", correct: "哲学" },
            { unit: 6, english: "Sophia", correct: "索菲娅（人名，意为智慧）" },
            { unit: 6, english: "sophy", correct: "智慧" },
            { unit: 6, english: "routes", correct: "路线" },
            { unit: 6, english: "bus routes", correct: "公交路线" },
            { unit: 6, english: "sea/air routes", correct: "海/空路线" },
            { unit: 6, english: "routine", correct: "常规，例行程序" },
            { unit: 6, english: "Eurocentric", correct: "以欧洲为中心的" },
            { unit: 6, english: "narrative/account of the past", correct: "历史叙述" },
            { unit: 6, english: "sociocentric", correct: "以社会为中心的" },
            { unit: 6, english: "egocentric", correct: "以自我为中心的" },
            { unit: 6, english: "ec/centric", correct: "偏离中心的，怪异的" },
            { unit: 6, english: "concentric", correct: "同心的" },
            { unit: 6, english: "frame…as…", correct: "将……描述为……" },
            { unit: 6, english: "be famed/reputed/renowned for", correct: "以……闻名" },
            { unit: 6, english: "be dissimilar from", correct: "与……不同" },
            { unit: 6, english: "watertight", correct: "防水的，无懈可击的" },
            { unit: 6, english: "airtight", correct: "密封的" },
            { unit: 6, english: "to contain flooding", correct: "控制洪水" },
            { unit: 6, english: "be derived from", correct: "源自于" },
            { unit: 6, english: "given its importance to", correct: "考虑到……的重要性" },
            { unit: 6, english: "tentatively", correct: "暂时地，试探性地" },
            { unit: 6, english: "tentative arrangement", correct: "临时安排" },
            { unit: 6, english: "salvage", correct: "打捞，抢救" },
            { unit: 6, english: "salvare", correct: "拯救（拉丁语）" },
            { unit: 6, english: "savior", correct: "救世主" },
            { unit: 6, english: "save…from…", correct: "从……中救出" },
            { unit: 6, english: "suspend", correct: "悬浮，暂停" },
            { unit: 6, english: "keep…in suspension", correct: "使……悬浮" },
            { unit: 6, english: "constraint", correct: "约束" },
            { unit: 6, english: "constrain", correct: "限制" },
            { unit: 6, english: "restraint", correct: "克制，限制" },
            { unit: 6, english: "restrain", correct: "抑制，限制" },
            { unit: 6, english: "pursue", correct: "追求" },
            { unit: 6, english: "pursuit", correct: "追求，追赶" },
            { unit: 6, english: "unprecedented operation", correct: "前所未有的行动" },
            { unit: 6, english: "immense", correct: "巨大的" },
            { unit: 6, english: "massive", correct: "巨大的" },
            { unit: 6, english: "enormous", correct: "巨大的" },
            { unit: 6, english: "tremendous", correct: "巨大的" },
            { unit: 6, english: "substantial", correct: "实质的，巨大的" },
            { unit: 6, english: "gigantic", correct: "巨大的" },
            { unit: 6, english: "giant", correct: "巨人，巨大的" },
            { unit: 6, english: "porcelain", correct: "瓷器" },
            { unit: 6, english: "pottery", correct: "陶器" },
            { unit: 6, english: "fine gold/sand/threads", correct: "精金/细沙/细线" },
            { unit: 6, english: "fine blonde hair", correct: "金色细发" },
            { unit: 6, english: "unadorned", correct: "未装饰的" },
            { unit: 6, english: "adorn", correct: "装饰" },
            { unit: 6, english: "decorate", correct: "装饰" },
            { unit: 6, english: "bracelet", correct: "手镯" },
            { unit: 6, english: "brace", correct: "支撑" },
            { unit: 6, english: "cigarette", correct: "香烟" },
            { unit: 6, english: "booklet", correct: "小册子" },
            { unit: 6, english: "pamphlet", correct: "小册子" },
            { unit: 6, english: "leaflet", correct: "传单" },
            { unit: 6, english: "packet/pack", correct: "小包" },
            { unit: 6, english: "piglet", correct: "小猪" },
            { unit: 6, english: "ducklet", correct: "小鸭" },
        ];
 // Add your questions here
        let currentQuestion;
        let questionIndex = parseInt(localStorage.getItem('questionIndex')) || 0;
        let wrongAnswers = JSON.parse(localStorage.getItem('wrongAnswers')) || [];
        let isRandomMode = JSON.parse(localStorage.getItem('isRandomMode')) ?? true;
        let sequentialIndex = parseInt(localStorage.getItem('sequentialIndex')) || 0;
        let lastQuestionEnglish = localStorage.getItem('lastQuestionEnglish') || null;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function getRandomDistractors(correctAnswer, currentEnglish) {
            const distractors = [];
            while (distractors.length < 3) {
                const randomQuestion = questions[Math.floor(Math.random() * questions.length)];
                if (randomQuestion.correct !== correctAnswer && randomQuestion.english !== currentEnglish &&
                    !distractors.includes(randomQuestion.correct)) {
                    distractors.push(randomQuestion.correct);
                }
            }
            return distractors;
        }

        function loadQuestion() {
            if (questions.length === 0) {
                document.getElementById('info').textContent = '题库为空，请添加题目';
                return;
            }

            // Resume last question if available
            if (questionIndex === 0 && lastQuestionEnglish && isRandomMode) {
                currentQuestion = questions.find(q => q.english === lastQuestionEnglish) || questions[Math.floor(Math.random() * questions.length)];
            } else if (questionIndex === 0 && !isRandomMode) {
                if (sequentialIndex >= questions.length) {
                    sequentialIndex = 0;
                }
                currentQuestion = questions[sequentialIndex];
            } else {
                if (isRandomMode) {
                    currentQuestion = questions[Math.floor(Math.random() * questions.length)];
                } else {
                    if (sequentialIndex >= questions.length) {
                        sequentialIndex = 0;
                    }
                    currentQuestion = questions[sequentialIndex];
                    sequentialIndex++;
                }
            }

            questionIndex++;
            localStorage.setItem('questionIndex', questionIndex);
            localStorage.setItem('sequentialIndex', sequentialIndex);
            localStorage.setItem('lastQuestionEnglish', currentQuestion.english);

            document.getElementById('info').textContent = `题目 ${questionIndex} | 单元 ${currentQuestion.unit}`;
            document.getElementById('question').textContent = currentQuestion.english;
            const distractors = getRandomDistractors(currentQuestion.correct, currentQuestion.english);
            const options = [currentQuestion.correct, ...distractors];
            shuffleArray(options);
            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';
            options.forEach(option => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => checkAnswer(option);
                optionsDiv.appendChild(optionDiv);
            });
            document.getElementById('feedback').innerHTML = '';
        }

        function checkAnswer(selected) {
            const feedback = document.getElementById('feedback');
            const optionDivs = document.querySelectorAll('.option');
            optionDivs.forEach(div => {
                div.onclick = null;
                if (div.textContent === currentQuestion.correct) {
                    div.className = 'option correct';
                } else if (div.textContent === selected && selected !== currentQuestion.correct) {
                    div.className = 'option incorrect';
                }
            });
            if (selected === currentQuestion.correct) {
                feedback.textContent = '正确！';
                feedback.style.color = '#2ecc71';
            } else {
                feedback.innerHTML = `错误！<br>正确答案：<strong>${currentQuestion.correct}</strong>`;
                feedback.style.color = '#e74c3c';
                if (!wrongAnswers.some(w => w.english === currentQuestion.english)) {
                    wrongAnswers.push({ ...currentQuestion, selectedAnswer: selected });
                    localStorage.setItem('wrongAnswers', JSON.stringify(wrongAnswers));
                }
            }
        }

        function nextQuestion() {
            loadQuestion();
        }

        function resetQuiz() {
            questionIndex = 0;
            sequentialIndex = 0;
            lastQuestionEnglish = null;
            localStorage.setItem('questionIndex', questionIndex);
            localStorage.setItem('sequentialIndex', sequentialIndex);
            localStorage.setItem('lastQuestionEnglish', '');
            loadQuestion();
        }

        function toggleWrongAnswers() {
            const wrongAnswersDiv = document.getElementById('wrongAnswers');
            const wrongAnswersList = document.getElementById('wrongAnswersList');
            if (wrongAnswersDiv.style.display === 'none') {
                wrongAnswersList.innerHTML = '';
                if (wrongAnswers.length === 0) {
                    wrongAnswersList.innerHTML = '<p>暂无错题</p>';
                } else {
                    wrongAnswers.forEach((item, index) => {
                        const itemDiv = document.createElement('div');
                        itemDiv.innerHTML = `<strong>题目 ${index + 1}:</strong> ${item.english}<br>
                                             <strong>正确答案:</strong> ${item.correct}<br>
                                             <strong>你的答案:</strong> ${item.selectedAnswer}<br>
                                             <strong>单元:</strong> ${item.unit}<hr>`;
                        wrongAnswersList.appendChild(itemDiv);
                    });
                }
                wrongAnswersDiv.style.display = 'block';
            } else {
                wrongAnswersDiv.style.display = 'none';
            }
        }

        function toggleMode() {
            isRandomMode = !isRandomMode;
            document.getElementById('modeToggleBtn').textContent = isRandomMode ? '切换为顺序模式' : '切换为随机模式';
            localStorage.setItem('isRandomMode', JSON.stringify(isRandomMode));
            resetQuiz();
        }

        // Attach event listeners
        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('resetBtn').addEventListener('click', resetQuiz);
        document.getElementById('reviewWrongBtn').addEventListener('click', toggleWrongAnswers);
        document.getElementById('modeToggleBtn').addEventListener('click', toggleMode);

        // Initial load
        document.getElementById('modeToggleBtn').textContent = isRandomMode ? '切换为顺序模式' : '切换为随机模式';
        if (questions.length > 0) {
            loadQuestion();
        } else {
            document.getElementById('info').textContent = '题库为空，请添加题目';
        }
    </script>
</body>
</html>